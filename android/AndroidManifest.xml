<?xml version="1.0"?>
<manifest package="com.voiceaillm.app" xmlns:android="http://schemas.android.com/apk/res/android" android:versionName="1.0.0" android:versionCode="1" android:installLocation="auto">
    
    <!-- Permissions -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.RECORD_AUDIO" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" android:maxSdkVersion="28" />
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" android:maxSdkVersion="32" />
    <uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE" android:maxSdkVersion="29" />
    
    <!-- Runtime permissions for Android 6.0+ -->
    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.VIBRATE" />
    
    <!-- Features -->
    <uses-feature android:name="android.hardware.microphone" android:required="true" />
    <uses-feature android:name="android.hardware.touchscreen" android:required="false" />
    <uses-feature android:name="android.hardware.wifi" android:required="false" />
    <uses-feature android:name="android.software.webview" android:required="false" />
    
    <!-- TTS requirements -->
    <uses-feature android:name="android.software.tts" android:required="false" />
    <uses-feature android:name="android.hardware.audio.output" android:required="true" />
    
    <!-- Support different screen sizes -->
    <supports-screens android:largeScreens="true" android:normalScreens="true" android:anyDensity="true" android:smallScreens="true"/>
    

    
    <!-- Application -->
    <application android:hardwareAccelerated="true" 
                 android:name="org.qtproject.qt.android.bindings.QtApplication" 
                 android:label="Voice AI LLM" 
                 android:icon="@drawable/icon"
                 android:theme="@android:style/Theme.DeviceDefault.Light.NoActionBar"
                 android:allowBackup="true"
                 android:fullBackupContent="false"
                 android:requestLegacyExternalStorage="true"
                 android:preserveLegacyExternalStorage="true">
        
        <activity android:configChanges="orientation|uiMode|screenLayout|screenSize|smallestScreenSize|layoutDirection|locale|fontScale|keyboard|keyboardHidden|navigation|mcc|mnc|density"
                  android:name="org.qtproject.qt.android.bindings.QtActivity"
                  android:label="Voice AI LLM"
                  android:screenOrientation="unspecified"
                  android:launchMode="singleTop"
                  android:windowSoftInputMode="adjustPan|stateHidden"
                  android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
            
            <!-- Supported file types -->
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />
                <data android:mimeType="application/pdf" />
                <data android:mimeType="text/csv" />
                <data android:mimeType="image/svg+xml" />
            </intent-filter>
            

            
            <!-- Meta-data - Qt-specific entries will be auto-generated by androiddeployqt -->
            <meta-data android:name="android.app.lib_name" android:value="VoiceAILLM"/>
            <meta-data android:name="android.app.background_running" android:value="false"/>
            <meta-data android:name="android.app.auto_screen_scale_factor" android:value="true"/>
            <meta-data android:name="android.app.extract_android_style" android:value="minimal"/>
            
            <!-- TTS configuration -->
            <meta-data android:name="android.speech.tts.enabled" android:value="true"/>
            <meta-data android:name="android.speech.tts.engine" android:value="com.google.android.tts"/>
        </activity>
        
        <!-- File provider for sharing files -->
        <provider
            android:name="androidx.core.content.FileProvider"
            android:authorities="com.voiceaillm.app.fileprovider"
            android:exported="false"
            android:grantUriPermissions="true">
            <meta-data
                android:name="android.support.FILE_PROVIDER_PATHS"
                android:resource="@xml/file_paths" />
        </provider>
        
    </application>
    
    <!-- Minimum SDK -->
    <uses-sdk android:minSdkVersion="28" android:targetSdkVersion="35"/>
</manifest> 