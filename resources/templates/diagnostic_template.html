<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <style>
        /* General Reset & Body Style */
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            background-color: #e9ecf5;
        }
        
        * {
            box-sizing: border-box;
        }

        ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        /* From ReportInfo.vue */
        .report {
            position: relative;
            width: 100%;
            background-color: #e9ecf5;
            padding: 10px;
        }
        .content-box {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #fff;
            padding-bottom: 90px;
        }
        .header {
            width: 100%;
            min-height: 84px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            padding: 0 16px;
        }
        .header .title {
            width: 100%;
            min-height: 40px;
            display: flex;
            justify-content: center;
            margin-top: 27px;
            font-size: 36px;
            line-height: 36px;
            color: #000000;
            font-weight: bold;
            text-align: center;
        }
        .header .line-bold {
            width: 100%;
            height: 6px;
            background: #2e4573;
            margin: 9px 0 4px 0;
        }
        .header .line {
            width: 100%;
            height: 1px;
            background: #2e4573;
        }
        .repair-info-basic {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            flex-wrap: wrap;
        }
        .repair-info-basic .logo-company {
            max-width: 188px;
            max-height: 102px;
            margin-bottom: 10px;
        }
        main {
            padding: 0 10px;
        }
        .sub-title {
            margin: 16px 10px 12px 0;
            color: #2e4573;
            font-size: 20px;
            line-height: 20px;
            display: flex;
            align-items: center;
        }
        .sub-title::before {
            content: "";
            width: 4px;
            height: 14px;
            background: #2e4573;
            margin-right: 6px;
        }
        .text-statement {
            width: 100%;
            color: #808080;
            font-size: 16px;
            padding: 71px 10px 8px;
        }
        .text-statement span {
            color: #f41717;
        }
        .footer {
            width: 100%;
            height: 80px;
            background: #ffffff;
            position: fixed;
            bottom: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            border-top: 1px solid #bfbfbf;
            z-index: 100;
        }
        .footer button {
            height: 48px;
            min-width: 125px;
            margin: 0 3%;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
        }
        .footer .btn-cancel {
            background: #f0f0f0;
            border: 1px solid #ccc;
        }
        .footer .btn-confirm {
            background: #007bff;
            color: white;
            border: 1px solid #007bff;
        }

        /* From ModelHeader.vue */
        .model-header {
            width: 100%;
            min-height: 48px;
            display: flex;
            align-items: center;
            padding: 9px 0 9px 6px;
            border-bottom: 1px #B8C3D9 solid;
            margin-top: 12px;
        }
        .model-header .arrows {
            width: 16px;
            height: 18px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 18'%3E%3Cpath fill='%232E4573' d='M0 0 L16 9 L0 18 Z'/%3E%3C/svg%3E") no-repeat;
            background-size: 100% 100%;
            margin-right: 10px;
            flex-shrink: 0;
        }
        .model-header.star-header .arrows {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 18 18'%3E%3Cpath fill='%232E4573' d='M9 0 L11.1 6.5 H18 L12.4 10.5 L14.5 17 L9 13 L3.5 17 L5.6 10.5 L0 6.5 H6.9 Z'/%3E%3C/svg%3E") no-repeat;
        }
        .model-header .text {
            font-size: 24px;
            line-height: 30px;
            color: #2E4573;
            position: relative;
        }
        .model-header .text::after {
            content: "";
            width: calc(100% + 32px);
            height: 4px;
            background-color: #2E4573;
            position: absolute;
            left: -32px;
            bottom: -12px;
        }
        .model-header.star-header .text::after {
          left: 0;
          width: 100%;
          bottom: -11px;
        }

        /* From InformationList.vue */
        .infomartino-list {
            width: 100%;
            overflow: hidden;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        .infomartino-list .modole {
            min-height: 22px;
            width: 45%;
            display: flex;
            align-items: center;
            margin-top: 14px;
        }
        .infomartino-list .modole .label {
            font-size: 18px;
            color: #666666;
            flex-shrink: 0;
            margin-right: 10px;
        }
        .infomartino-list .modole .text {
            color: #000000;
            font-size: 18px;
            flex: 1;
            word-break: break-word;
        }
        .infomartino-list-small {
            width: 78.9%;
        }
        .infomartino-list-small .modole {
            width: 45%;
        }
        .infomartino-list-small .modole .label, .infomartino-list-small .modole .text {
            font-size: 16px;
        }
        
        /* From ScanOverview.vue */
        .scan-overview .summary-prompt {
            margin: 12px 0;
            font-size: 18px;
            color: #666666;
        }
        .scan-overview .summary-prompt b {
            color: #000;
            font-weight: bold;
        }
        .scan-overview .summary-prompt .red-b {
            color: #e20015;
        }
        .scan-overview .row {
            min-height: 54px;
            border-bottom: 1px solid #cccccc;
        }
        .scan-overview .box-head {
            background: #DCE6F5;
            border-radius: 10px 10px 0 0;
        }
        .scan-overview .system-list {
            min-height: 54px;
            width: 100%;
            padding: 0 1.95%;
            display: flex;
            align-items: center;
            flex-wrap: nowrap;
        }
        .scan-overview .system-list span {
            font-size: 18px;
            color: #000;
            display: flex;
            align-items: center;
        }
        .scan-overview .no { width: 4.4%; justify-content: center; }
        .scan-overview .name { flex: 1; margin: 0 0 0 35px; }
        .scan-overview .status, .scan-overview .pre-status { width: 12%; justify-content: center; }
        .scan-overview .status::before, .scan-overview .pre-status::before {
            content: "";
            height: 17px;
            width: 17px;
            margin-right: 5px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 17 17'%3E%3Ccircle cx='8.5' cy='8.5' r='8' fill='%234CAF50'/%3E%3Cpath d='M5 8.5 L7.5 11 L12 6.5' stroke='white' stroke-width='2' fill='none'/%3E%3C/svg%3E") no-repeat;
            background-size: 100% 100%;
        }
        .scan-overview .status-fail { color: #f41717; }
        .scan-overview .status-fail::before {
            content: "";
            margin-right: 6px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 17 17'%3E%3Cpath d='M8.5 0 L17 17 L0 17 Z' fill='%23f41717'/%3E%3Ctext x='50%25' y='75%25' fill='white' font-size='12' text-anchor='middle'%3E!%3C/text%3E%3C/svg%3E") no-repeat;
        }
        
        /* From FaultCodeList.vue & DataFlowList.vue */
        .flow-list .row, .fault-list .row {
            min-height: 54px;
            width: 100%;
            padding: 0 1.95%;
            border-bottom: 1px solid #cccccc;
            display: flex;
            align-items: center;
        }
        .flow-list .row span, .fault-list .row span {
            display: flex;
            align-items: center;
            font-size: 18px;
            color: #000;
        }
        .flow-list .box-head, .fault-list .box-head {
            background: #DCE6F5;
            border-radius: 10px 10px 0 0;
        }
        /* FaultCodeList specific */
        .fault-list .row span:nth-child(1) { width: 4.4%; justify-content: center; }
        .fault-list .row span:nth-child(2) { width: 10%; margin: 0 30px; }
        .fault-list .row span:nth-child(3) { flex: 1; }
        .fault-list .row span:nth-child(4) { width: 24%; justify-content: center; }
        /* DataFlowList specific */
        .flow-list .no { width: 4.4%; justify-content: center; }
        .flow-list .name { flex: 1; margin: 0 56px 0 37px; }
        .flow-list .text { width: 20%; }
        .flow-list .unit { width: 10%; justify-content: center; }
        
        /* From EcuInfoList.vue */
        .ecuinfo-list li {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
        }
        .ecuinfo-list .modole {
            width: 50%;
            min-height: 80px;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
            position: relative;
            padding: 0 40px 0 16px;
            display: flex;
        }
        .ecuinfo-list .modole .label {
            font-size: 18px;
            color: #666666;
            margin-bottom: 6px;
        }
        .ecuinfo-list .modole .text {
            color: #000;
            font-size: 18px;
        }

        /* From BatteryList.vue */
        .battery-list .row {
            min-height: 54px;
            width: 100%;
            padding: 0 1.95%;
            border-bottom: 1px solid #cccccc;
            display: flex;
            align-items: center;
        }
        .battery-list .box-head {
            background: #DCE6F5;
            border-radius: 10px 10px 0 0;
        }
        .battery-list .row span {
            display: flex;
            align-items: center;
            padding: 0 10px;
            font-size: 18px;
            color: #000;
            word-break: break-word;
        }

        @media print {
            .footer {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div id="ReportInfo" class="report">
        <div class="content-box">
            <!-- Report Header -->
            <div class="header">
                <div class="title">{{report_title}}</div>
                <div class="line-bold"></div>
                <div class="line"></div>
            </div>

            <!-- User & Repair Info -->
            <div class="repair-info-basic">
                <img class="logo-company" src="{{logo}}" alt="logo" onerror="this.style.display='none'">
                <div class="infomartino-list infomartino-list-small">
                    <div class="modole">
                        <span class="label">Company:</span>
                        <span class="text">{{company}}</span>
                    </div>
                    <div class="modole">
                        <span class="label">Email:</span>
                        <span class="text">{{email}}</span>
                    </div>
                    <div class="modole">
                        <span class="label">Tel:</span>
                        <span class="text">{{tel}}</span>
                    </div>
                    <div class="modole">
                        <span class="label">Website:</span>
                        <span class="text">{{website}}</span>
                    </div>
                    <div class="modole" style="width: 100%;">
                        <span class="label">Address:</span>
                        <span class="text">{{address}}</span>
                    </div>
                </div>
            </div>

            <main>
                <!-- Basic Information -->
                <div class="model-header">
                    <div class="arrows"></div>
                    <div class="text">Basic Information</div>
                </div>
                <div class="infomartino-list">
                    <div class="modole"><span class="label">VIN:</span><span class="text">{{vin}}</span></div>
                    <div class="modole"><span class="label">Mileage:</span><span class="text">{{mileage}}</span></div>
                    <div class="modole"><span class="label">Car Number:</span><span class="text">{{car_number}}</span></div>
                    <div class="modole"><span class="label">Report Time:</span><span class="text">{{report_time}}</span></div>
                    <div class="modole"><span class="label">SN:</span><span class="text">{{sn}}</span></div>
                    <div class="modole"><span class="label">Software Version:</span><span class="text">{{software_version}}</span></div>
                </div>

                <!-- Scan Overview -->
                <div class="model-header">
                    <div class="arrows"></div>
                    <div class="text">Scan Overview</div>
                </div>
                <div class="scan-overview">
                    <div class="summary-prompt">
                        <div>System(s) Scanned: <b>{{systems_scanned}}</b>, System(s) with DTCs: <b class="red-b">{{systems_with_dtcs}}</b>, Total DTCs: <b>{{total_dtcs}}</b></div>
                    </div>
                    <ul>
                        <li class="row box-head">
                            <div class="system-list">
                                <span class="no">No.</span>
                                <span class="name">System Name</span>
                                <span class="status">State</span>
                            </div>
                        </li>
                        {{#systems}}
                        <li class="row">
                            <div class="system-list">
                                <span class="no">{{no}}</span>
                                <span class="name">{{name}}</span>
                                <span class="status {{#if has_faults}}status-fail{{/if}}">{{state}}</span>
                            </div>
                        </li>
                        {{/systems}}
                    </ul>
                </div>
                
                <!-- Fault Code List -->
                <div class="model-header star-header">
                    <div class="arrows"></div>
                    <div class="text">Fault Codes</div>
                </div>
                <div class="fault-list">
                    {{#fault_systems}}
                    <div class="sub-title">{{system_name}} (Found {{fault_count}})</div>
                    <ul>
                        <li class="row box-head">
                            <span>No.</span>
                            <span>DTC</span>
                            <span>Description</span>
                            <span>Status</span>
                        </li>
                        {{#faults}}
                        <li class="row">
                            <span>{{no}}</span>
                            <span>{{dtc}}</span>
                            <span>{{description}}</span>
                            <span>{{status}}</span>
                        </li>
                        {{/faults}}
                    </ul>
                    {{/fault_systems}}
                </div>

                <!-- System Details -->
                {{#system_details}}
                <div class="model-header">
                    <div class="arrows"></div>
                    <div class="text">{{system_name}}</div>
                </div>
                
                <!-- ECU Info -->
                {{#if ecu_info}}
                <div class="sub-title">ECU Information</div>
                <div class="ecuinfo-list">
                    <ul>
                        <li>
                            <div class="modole">
                                <span class="label">ECU Part Number:</span>
                                <span class="text">{{ecu_info.part_number}}</span>
                            </div>
                            <div class="modole">
                                <span class="label">Calibration ID:</span>
                                <span class="text">{{ecu_info.calibration_id}}</span>
                            </div>
                        </li>
                        <li>
                            <div class="modole">
                                <span class="label">Hardware Number:</span>
                                <span class="text">{{ecu_info.hardware_number}}</span>
                            </div>
                            <div class="modole">
                                <span class="label">Software Version:</span>
                                <span class="text">{{ecu_info.software_version}}</span>
                            </div>
                        </li>
                    </ul>
                </div>
                {{/if}}

                <!-- Data Stream -->
                {{#if data_stream}}
                <div class="sub-title">Data Stream</div>
                <div class="flow-list">
                    <ul>
                        <li class="row box-head">
                            <span class="no">No.</span>
                            <span class="name">Name</span>
                            <span class="text">Value</span>
                            <span class="unit">Unit</span>
                        </li>
                        {{#data_stream}}
                        <li class="row">
                            <span class="no">{{no}}</span>
                            <span class="name">{{name}}</span>
                            <span class="text">{{value}}</span>
                            <span class="unit">{{unit}}</span>
                        </li>
                        {{/data_stream}}
                    </ul>
                </div>
                {{/if}}
                {{/system_details}}

                <!-- Battery Test -->
                {{#if battery_test}}
                <div class="model-header">
                    <div class="arrows"></div>
                    <div class="text">Battery Pack Test</div>
                </div>
                <div class="battery-examining">
                    <div class="sub-title">Pack Information</div>
                    <div class="ecuinfo-list">
                         <ul>
                            <li>
                                <div class="modole"><span class="label">State of Charge (SOC):</span><span class="text">{{battery_test.soc}}</span></div>
                                <div class="modole"><span class="label">State of Health (SOH):</span><span class="text">{{battery_test.soh}}</span></div>
                            </li>
                            <li>
                                <div class="modole"><span class="label">Total Voltage:</span><span class="text">{{battery_test.total_voltage}}</span></div>
                                <div class="modole"><span class="label">Total Current:</span><span class="text">{{battery_test.total_current}}</span></div>
                            </li>
                        </ul>
                    </div>
                     <div class="sub-title">Cell Voltages</div>
                     <div class="battery-list">
                        <ul>
                            <li class="row box-head">
                                <span style="width: 25%;">Cell Group</span>
                                <span style="width: 25%;">Cell 1</span>
                                <span style="width: 25%;">Cell 2</span>
                                <span style="width: 25%;">Cell 3</span>
                            </li>
                            {{#battery_test.cell_voltages}}
                            <li class="row">
                                <span style="width: 25%;">{{module}}</span>
                                <span style="width: 25%;">{{cell1}}</span>
                                <span style="width: 25%;">{{cell2}}</span>
                                <span style="width: 25%;">{{cell3}}</span>
                            </li>
                            {{/battery_test.cell_voltages}}
                        </ul>
                     </div>
                </div>
                {{/if}}

                <!-- Footer statement -->
                <div class="text-statement">
                    <span>*</span>This report is generated based on the data read from the vehicle's electronic control units. The results are for reference only.
                </div>
            </main>
        </div>
    </div>
</body>
</html> 